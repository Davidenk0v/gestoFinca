---
const { lang, faq } = Astro.props;

// Generar JSON-LD dinÃ¡mico para Schema.org
const faqJsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  mainEntity: faq.questions.map((q: any) => ({
    "@type": "Question",
    name: q.question,
    acceptedAnswer: {
      "@type": "Answer",
      text: q.answer,
    },
  })),
};
---

<section
  class="mb-12"
  itemscope
  itemtype="https://schema.org/FAQPage"
  role="region"
  aria-labelledby="faq-title"
>
  <h2
    id="faq-title"
    class="text-3xl font-extrabold leading-tight tracking-tight text-brand-blueFinca sm:text-4xl mb-4 text-center"
  >
    {faq.title}
  </h2>

  <div class="space-y-6">
    {
      faq.questions.map((item, index) => (
        <div
          key={index}
          itemscope
          itemprop="mainEntity"
          itemtype="https://schema.org/Question"
          class="border-b pb-4"
        >
          <h3 itemprop="name" class="font-medium text-lg">
            {item.question}
          </h3>
          <div
            itemscope
            itemprop="acceptedAnswer"
            itemtype="https://schema.org/Answer"
          >
            <div itemprop="text" class="mt-2 text-gray-600">
              {item.answer}
            </div>
          </div>
        </div>
      ))
    }
  </div>

  <script type="application/ld+json" set:html={JSON.stringify(faqJsonLd)} />
</section>
